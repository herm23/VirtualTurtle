launch:
- arg:
    name: device
    default: "0"
- arg:
    name: use_sim_time
    default: "true"

- node_container:
    pkg: rclcpp_components
    exec: component_container
    name: apriltag_container
    namespace: ""

    composable_node:                            # CHANGELOG
    - pkg: image_proc
      plugin: image_proc::RectifyNode
      name: rectify
      namespace: rgb_camera                     # prepended to output topics
      remap:
      - from: image
        to: /rgb_camera/image                   # raw camera image
      - from: camera_info
        to: /rgb_camera/camera_info   # raw camera info
      extra_arg:
      - name: use_intra_process_comms
        value: "True"
      param:                                    # ensure sim time usage
      - name: use_sim_time 
        value: "$(var use_sim_time)"

    - pkg: apriltag_ros_tweaked
      plugin: AprilTagNode
      name: apriltag
      namespace: ""
      remap:
      - from: image_rect
        to: /rgb_camera/image_rect              # rectified image
      - from: camera_info
        to: /rgb_camera/camera_info             # camera info
      param:
      - from: $(find-pkg-share apriltag_ros_tweaked)/cfg/tags_36h11.yaml
      - name: use_sim_time                      # ensure sim time usage
        value: "$(var use_sim_time)"
      extra_arg:
      - name: use_intra_process_comms
        value: "True"
      







  
